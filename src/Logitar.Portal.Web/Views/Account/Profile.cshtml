@using Logitar.Portal.Contracts.Users;
@using Logitar.Portal.Core;
@using Logitar.Portal.Core.Configurations;
@using Logitar.Portal.Core.Configurations.Queries;
@using MediatR;

@inject IApplicationContext _applicationContext;
@inject IMediator _mediator;

@model User
@{
  Layout = "_Layout";

  ViewBag.Title = "Profile";

  Configuration configuration = await _mediator.Send(new ProjectToConfigurationOutput(_applicationContext.Configuration));
}

<profile configuration="@(ModelSerializer.Serialize(configuration))" json="@(ModelSerializer.Serialize(Model))" session="@(Context.GetSessionId())"></profile>
