(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["apiKeyEdit"],{

/***/ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=script&lang=js&":
/*!***************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _api_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/api/keys */ \"./src/api/keys.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'ApiKeyEdit',\n  props: {\n    json: {\n      type: String,\n      default: ''\n    },\n    status: {\n      type: String,\n      default: ''\n    },\n    xApiKey: {\n      type: String,\n      default: ''\n    }\n  },\n\n  data() {\n    return {\n      apiKey: null,\n      description: null,\n      expiresAt: null,\n      loading: false,\n      name: null,\n      showString: false\n    };\n  },\n\n  computed: {\n    hasChanges() {\n      var _this$name, _this$apiKey$name, _this$apiKey, _this$description, _this$apiKey$descript, _this$apiKey2;\n\n      return !this.apiKey && !!this.expiresAt || ((_this$name = this.name) !== null && _this$name !== void 0 ? _this$name : '') !== ((_this$apiKey$name = (_this$apiKey = this.apiKey) === null || _this$apiKey === void 0 ? void 0 : _this$apiKey.name) !== null && _this$apiKey$name !== void 0 ? _this$apiKey$name : '') || ((_this$description = this.description) !== null && _this$description !== void 0 ? _this$description : '') !== ((_this$apiKey$descript = (_this$apiKey2 = this.apiKey) === null || _this$apiKey2 === void 0 ? void 0 : _this$apiKey2.description) !== null && _this$apiKey$descript !== void 0 ? _this$apiKey$descript : '');\n    },\n\n    payload() {\n      const payload = {\n        name: this.name,\n        description: this.description\n      };\n\n      if (!this.apiKey) {\n        payload.expiresAt = this.expiresAt;\n      }\n\n      return payload;\n    }\n\n  },\n  methods: {\n    async copyToClipboard() {\n      this.$refs.input.focus();\n      navigator.clipboard.writeText(this.xApiKey);\n    },\n\n    setModel(apiKey) {\n      this.apiKey = apiKey;\n      this.description = apiKey.description;\n      this.expiresAt = apiKey.expiresAt;\n      this.name = apiKey.name;\n    },\n\n    async submit() {\n      if (!this.loading) {\n        this.loading = true;\n\n        try {\n          if (await this.$refs.form.validate()) {\n            if (this.apiKey) {\n              const {\n                data\n              } = await Object(_api_keys__WEBPACK_IMPORTED_MODULE_0__[\"updateApiKey\"])(this.apiKey.id, this.payload);\n              this.setModel(data);\n              this.toast('success', 'apiKeys.updated');\n              this.$refs.form.reset();\n            } else {\n              const {\n                data\n              } = await Object(_api_keys__WEBPACK_IMPORTED_MODULE_0__[\"createApiKey\"])(this.payload);\n              window.location.replace(`/api-keys/${data.id}?status=created&x-api-key=${encodeURIComponent(data.xApiKey)}`);\n            }\n          }\n        } catch (e) {\n          this.handleError(e);\n        } finally {\n          this.loading = false;\n        }\n      }\n    }\n\n  },\n\n  async created() {\n    if (this.json) {\n      this.setModel(JSON.parse(this.json));\n    }\n\n    if (this.status === 'created') {\n      this.toast('success', 'apiKeys.created');\n    }\n\n    if (this.xApiKey) {\n      this.showString = true;\n    }\n  }\n\n});\n\n//# sourceURL=webpack:///./src/components/ApiKeys/ApiKeyEdit.vue?./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"7a825e16-vue-loader-template\"}!./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=template&id=47abd540&":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"7a825e16-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=template&id=47abd540& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function render() {\n  var _vm = this,\n      _c = _vm._self._c;\n\n  return _c(\"b-container\", [_c(\"h1\", {\n    directives: [{\n      name: \"t\",\n      rawName: \"v-t\",\n      value: _vm.apiKey ? \"apiKeys.editTitle\" : \"apiKeys.newTitle\",\n      expression: \"apiKey ? 'apiKeys.editTitle' : 'apiKeys.newTitle'\"\n    }]\n  }), _c(\"b-alert\", {\n    attrs: {\n      variant: \"warning\",\n      dismissible: \"\"\n    },\n    model: {\n      value: _vm.showString,\n      callback: function ($$v) {\n        _vm.showString = $$v;\n      },\n      expression: \"showString\"\n    }\n  }, [_c(\"strong\", {\n    directives: [{\n      name: \"t\",\n      rawName: \"v-t\",\n      value: \"apiKeys.string.heading\",\n      expression: \"'apiKeys.string.heading'\"\n    }]\n  }), _c(\"br\"), _c(\"b-input-group\", {\n    scopedSlots: _vm._u([{\n      key: \"append\",\n      fn: function () {\n        return [_c(\"icon-button\", {\n          attrs: {\n            icon: \"clipboard\",\n            text: \"apiKeys.clipboard\",\n            variant: \"warning\"\n          },\n          on: {\n            click: function ($event) {\n              return _vm.copyToClipboard();\n            }\n          }\n        })];\n      },\n      proxy: true\n    }])\n  }, [_c(\"b-form-input\", {\n    ref: \"input\",\n    attrs: {\n      readonly: \"\",\n      value: _vm.xApiKey\n    },\n    on: {\n      focus: function ($event) {\n        return $event.target.select();\n      }\n    }\n  })], 1), _vm._v(\" \" + _vm._s(_vm.$t(\"apiKeys.string.warning\")) + \" \")], 1), _vm.apiKey ? [_c(\"status-detail\", {\n    attrs: {\n      createdAt: new Date(_vm.apiKey.createdAt),\n      updatedAt: _vm.apiKey.updatedAt ? new Date(_vm.apiKey.updatedAt) : null\n    }\n  }), _vm.apiKey.expiresAt ? _c(\"p\", {\n    class: {\n      \"text-danger\": _vm.apiKey.isExpired\n    }\n  }, [_vm.apiKey.isExpired ? [_vm._v(_vm._s(_vm.$t(\"apiKeys.expiredAt\")))] : [_vm._v(_vm._s(_vm.$t(\"apiKeys.expiresAt\")))], _vm._v(\" \" + _vm._s(_vm.$d(new Date(_vm.apiKey.expiresAt), \"medium\")) + \" \")], 2) : _c(\"p\", {\n    directives: [{\n      name: \"t\",\n      rawName: \"v-t\",\n      value: \"apiKeys.neverExpires\",\n      expression: \"'apiKeys.neverExpires'\"\n    }]\n  })] : _vm._e(), _c(\"validation-observer\", {\n    ref: \"form\"\n  }, [_c(\"b-form\", {\n    on: {\n      submit: function ($event) {\n        $event.preventDefault();\n        return _vm.submit.apply(null, arguments);\n      }\n    }\n  }, [!_vm.apiKey || !_vm.apiKey.isExpired ? _c(\"div\", {\n    staticClass: \"my-2\"\n  }, [!!_vm.apiKey ? _c(\"icon-submit\", {\n    attrs: {\n      disabled: !_vm.hasChanges || _vm.loading,\n      icon: \"save\",\n      loading: _vm.loading,\n      text: \"actions.save\",\n      variant: \"primary\"\n    }\n  }) : _c(\"icon-submit\", {\n    attrs: {\n      disabled: !_vm.hasChanges || _vm.loading,\n      icon: \"plus\",\n      loading: _vm.loading,\n      text: \"actions.create\",\n      variant: \"success\"\n    }\n  })], 1) : _vm._e(), !_vm.apiKey ? _c(\"form-datetime\", {\n    attrs: {\n      id: \"expiresAt\",\n      label: \"apiKeys.expiresAt\",\n      minDate: new Date(),\n      validate: \"\"\n    },\n    model: {\n      value: _vm.expiresAt,\n      callback: function ($$v) {\n        _vm.expiresAt = $$v;\n      },\n      expression: \"expiresAt\"\n    }\n  }) : _vm._e(), _c(\"name-field\", {\n    attrs: {\n      disabled: _vm.apiKey && _vm.apiKey.isExpired\n    },\n    model: {\n      value: _vm.name,\n      callback: function ($$v) {\n        _vm.name = $$v;\n      },\n      expression: \"name\"\n    }\n  }), _c(\"description-field\", {\n    attrs: {\n      disabled: _vm.apiKey && _vm.apiKey.isExpired,\n      rows: 15\n    },\n    model: {\n      value: _vm.description,\n      callback: function ($$v) {\n        _vm.description = $$v;\n      },\n      expression: \"description\"\n    }\n  })], 1)], 1)], 2);\n};\n\nvar staticRenderFns = [];\nrender._withStripped = true;\n\n\n//# sourceURL=webpack:///./src/components/ApiKeys/ApiKeyEdit.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%227a825e16-vue-loader-template%22%7D!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./src/api/keys.js":
/*!*************************!*\
  !*** ./src/api/keys.js ***!
  \*************************/
/*! exports provided: createApiKey, deleteApiKey, getApiKey, getApiKeys, updateApiKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createApiKey\", function() { return createApiKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteApiKey\", function() { return deleteApiKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getApiKey\", function() { return getApiKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getApiKeys\", function() { return getApiKeys; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateApiKey\", function() { return updateApiKey; });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! . */ \"./src/api/index.js\");\n/* harmony import */ var _helpers_queryUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/helpers/queryUtils */ \"./src/helpers/queryUtils.js\");\n\n\nasync function createApiKey(payload) {\n  return await Object(___WEBPACK_IMPORTED_MODULE_0__[\"post\"])('/api/keys', payload);\n}\nasync function deleteApiKey(id) {\n  return await Object(___WEBPACK_IMPORTED_MODULE_0__[\"_delete\"])(`/api/keys/${id}`);\n}\nasync function getApiKey(id) {\n  return await Object(___WEBPACK_IMPORTED_MODULE_0__[\"get\"])(`/api/keys/${id}`);\n}\nasync function getApiKeys(params) {\n  return await Object(___WEBPACK_IMPORTED_MODULE_0__[\"get\"])('/api/keys' + Object(_helpers_queryUtils__WEBPACK_IMPORTED_MODULE_1__[\"getQueryString\"])(params));\n}\nasync function updateApiKey(id, payload) {\n  return await Object(___WEBPACK_IMPORTED_MODULE_0__[\"put\"])(`/api/keys/${id}`, payload);\n}\n\n//# sourceURL=webpack:///./src/api/keys.js?");

/***/ }),

/***/ "./src/components/ApiKeys/ApiKeyEdit.vue":
/*!***********************************************!*\
  !*** ./src/components/ApiKeys/ApiKeyEdit.vue ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ApiKeyEdit_vue_vue_type_template_id_47abd540___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ApiKeyEdit.vue?vue&type=template&id=47abd540& */ \"./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=template&id=47abd540&\");\n/* harmony import */ var _ApiKeyEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ApiKeyEdit.vue?vue&type=script&lang=js& */ \"./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport *//* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _ApiKeyEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _ApiKeyEdit_vue_vue_type_template_id_47abd540___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _ApiKeyEdit_vue_vue_type_template_id_47abd540___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"src/components/ApiKeys/ApiKeyEdit.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=webpack:///./src/components/ApiKeys/ApiKeyEdit.vue?");

/***/ }),

/***/ "./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=script&lang=js&":
/*!************************************************************************!*\
  !*** ./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=script&lang=js& ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_13_0_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ApiKeyEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib??vue-loader-options!./ApiKeyEdit.vue?vue&type=script&lang=js& */ \"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_cache_loader_dist_cjs_js_ref_13_0_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ApiKeyEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n//# sourceURL=webpack:///./src/components/ApiKeys/ApiKeyEdit.vue?");

/***/ }),

/***/ "./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=template&id=47abd540&":
/*!******************************************************************************!*\
  !*** ./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=template&id=47abd540& ***!
  \******************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_7a825e16_vue_loader_template_node_modules_cache_loader_dist_cjs_js_ref_13_0_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_loaders_templateLoader_js_ref_6_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ApiKeyEdit_vue_vue_type_template_id_47abd540___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"7a825e16-vue-loader-template\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib??vue-loader-options!./ApiKeyEdit.vue?vue&type=template&id=47abd540& */ \"./node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"7a825e16-vue-loader-template\\\"}!./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/ApiKeys/ApiKeyEdit.vue?vue&type=template&id=47abd540&\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_7a825e16_vue_loader_template_node_modules_cache_loader_dist_cjs_js_ref_13_0_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_loaders_templateLoader_js_ref_6_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ApiKeyEdit_vue_vue_type_template_id_47abd540___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_7a825e16_vue_loader_template_node_modules_cache_loader_dist_cjs_js_ref_13_0_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_loaders_templateLoader_js_ref_6_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ApiKeyEdit_vue_vue_type_template_id_47abd540___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n//# sourceURL=webpack:///./src/components/ApiKeys/ApiKeyEdit.vue?");

/***/ }),

/***/ "./src/helpers/queryUtils.js":
/*!***********************************!*\
  !*** ./src/helpers/queryUtils.js ***!
  \***********************************/
/*! exports provided: getQueryString */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getQueryString\", function() { return getQueryString; });\nfunction getQueryString(params) {\n  const filtered = Object.entries(params).filter(([, value]) => typeof value !== 'undefined' && value !== null);\n  const list = [];\n  filtered.forEach(([key, value]) => {\n    if (Array.isArray(value)) {\n      value.forEach(item => list.push([key, item]));\n    } else {\n      list.push([key, value]);\n    }\n  });\n  return '?' + list.map(pair => pair.join('=')).join('&');\n}\n\n//# sourceURL=webpack:///./src/helpers/queryUtils.js?");

/***/ })

}]);